MENTA 設計メモ

前提
----

    Perl 5.8.0 以後をサポート対象とする
    LWP は入ってる前提で。LWP を入れるためには XS なモジュールが必要なので無理だ。
        HTML::Parser
        Compress::Zlib
    CGI 環境でも高速である
    use strict を強制して悪い習慣を身につけさせない
    Windows でも動く
    UTF-8 で書く
    use strict; use warnings; use utf8; を強制する
    テストを書く習慣を身につけさせる
    Perl::Critic しまくる
    スタンドアローンサーバーでも動く
    HTML エスケープは自動でかける
    ユーザが「自分はいい道具をつかっているんだ」とおもえるようにする
    初心者は OOP とかわからないので、関数でひととおりできるようにする

依存モジュール
--------------

    実行時、コンパイル時ともに標準添付モジュールのみを利用する
    ただし、コンパイル時においては vendor/ 以下に小さなライブラリを保存してよい

        HTTP::Server::Simple

使い方
------

    app/ 以下をいじくって自分のアプリをつくる

テスト
-----

    MENTA は十分に安定しているべきなので、テストを十分に書くべきだ。

    % prove t/*.t
    でテストが実行できるので、コミッタはテストを通すようにするとよい。

MENTA 標準添付モジュール
------------------------

日本の perl mongers が普段つかってるモジュールの中から選んでいる予定。

    DateTime(Locale, Timezone の不要な部分を削ってある)
    CGI::Simple
    Scalar::Util
    List::MoreUtils
    Path::Class
    URI
    Class::Accessor
    HTML::FillInForm
    Text::Hatena
    Data::Page
    HTML::TreeBuilder
    Text::CSV
    YAML
    Email::Send
    HTTP::MobileAttribute
    HTML::TreeBuilder::XPath

    以下予定
    HTTP::Session

    入れようか迷ってるもの。ウェブ関係ないし。
    IO::Prompt
    Perl::Critic
    POE
    POE::Component::IRC
    Spreadsheet::WriteExcel
    CLI::Dispatch

TPFJ が要求する 10 のモジュール認定シールに入るだろうと仮定して同梱しないもの
-----------------------------------------------------------------------------

というか、XS だから同梱できないのね。

    DBI
    LWP
        HTML::Parser
        HTML::TagSet
    IO::Socket
    Digest::SHA1

    以下は、あったらいいなーとおもうけど、案外はいってないかもね
        Crypt::DH

標準添付しようかとおもったら Perl5 標準添付だったもの
-----------------------------------------------------

    Encode
    MIME::Base64
    Digest::MD5
    File::Spec
    File::stat
    IO::Socket
    Net::FTP

XS しかなくてあきらめているもの
-------------------------------

    Digest::SHA1
    Net::OpenID::Consumer(なくても動くけどしぬほど遅いかも)

TODO
----

    ソースに書いてあるものもろもろ
    flock してファイルつくって云々みたいなのを簡単にできる仕組み
    サンプルアプリを作ってみる
    テストを十分に書く。安定したフレームワークにするためにはテストが必須だ。
    mod_perl 対応。今の時点でも動くことはうごくとおもうけど、テストとか十分にしたい
    携帯端末の場合に文字コードを適切に変換するべき?でも 3G なら utf8 表示できるんじゃなかったっけw
    docroot は環境変数でうまくやれないかな
    フックとかつける?
    uri_with っぽいのもほしい。
    documentation する
    controller を分割ファイル形式にしている場合に、use strict とかオンになってる?
    ファイルアップロードまわり
    http://d.hatena.ne.jp/kazuhooku/20081117/1226936533

